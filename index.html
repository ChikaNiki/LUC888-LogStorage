<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>LUC888-LogStorage</title>
</head>

<body>

<script>

(function(){

var origin = '';

window.addEventListener('message', function(event){
	if(event.origin === origin){
		var message = event.data;
		
		//get
		if(message === 'get'){
			var storageData = func_data_load();
			event.source.postMessage(storageData,event.origin);
		}
		//post
		else{
			//var messageArray = message.split(',');
			var obj = {
				'table01' : message;
			};
			var setjson = JSON.stringify(obj);
			localStorage.setItem('c5app_bmt_log',setjson);
		
		}
	}
});

})();


function func_data_save(){
	
}

function func_data_load(){
	if(localStorage.getItem('c5app_bmt_log')==null){ //コンフィグ存在しないなら初期生成
		var obj = {
			'table01' : ['0']
		};
		var setjson = JSON.stringify(obj);
		localStorage.setItem('c5app_bmt_log',setjson);
	}
	
	//存在するなら
	//return JSON.parse(localStorage.getItem('c5app_bmt_log'));//読み込み用
	return localStorage.getItem('c5app_bmt_log');
}

</script>


虹色に光らせる。

</body>
</html>
